schema_version: "0.1.0"
id: telemetry/log-work
name: Log Work
summary: "Generates a U.Work record for an action (Pattern A.15.1)."
intent:
  goal: "Generate a U.Work record for a specific action."
  non_goals:
    - "UNKNOWN"
inputs:
  - name: spec
    type: string
    description: "Method or pattern identifier for the work being recorded."
    required: true
  - name: role
    type: string
    description: "Role assignment performing the work."
    required: true
  - name: context
    type: string
    description: "Bounded context used to resolve the runtime work log directory."
    required: true
  - name: action
    type: string
    description: "Description of the work performed."
    required: true
outputs:
  - name: work_record_path
    type: string
    description: "Path to the generated U.Work markdown file."
procedure:
  - step_id: step-validate-inputs
    instruction: "Validate required inputs: spec, role, context, action."
  - step_id: step-resolve-target
    instruction: "Resolve runtime/contexts/<context>/telemetry/work and ensure it exists."
  - step_id: step-build-content
    instruction: "Construct the U.Work markdown content using the provided inputs and timestamps."
  - step_id: step-write-file
    instruction: "Write the U.Work markdown file using a timestamped filename."
constraints:
  safety:
    - "UNKNOWN"
  privacy:
    - "UNKNOWN"
  licensing:
    - "UNKNOWN"
dependencies:
  tools:
    - write_to_file
    - run_command
  skills: []
eval:
  acceptance_criteria:
    - "Creates a markdown file under runtime/contexts/<context>/telemetry/work/."
    - "The record includes spec, role, context, and action values."
    - "The filename is timestamp-based to avoid collisions."
  tests:
    - name: basic-log
      input_fixture:
        spec: "UNKNOWN"
        role: "UNKNOWN"
        context: "UNKNOWN"
        action: "UNKNOWN"
      expected:
        work_record_path: "UNKNOWN"
    - name: basic-log-2
      input_fixture:
        spec: "UNKNOWN"
        role: "UNKNOWN"
        context: "UNKNOWN"
        action: "UNKNOWN"
      expected:
        work_record_path: "UNKNOWN"
version: "0.1.0"
metadata:
  tags:
    - telemetry
  authors:
    - "UNKNOWN"
  created: "2026-01-12"
  updated: "2026-01-12"
failure_modes:
  - "UNKNOWN: intent.non_goals"
  - "UNKNOWN: constraints.safety"
  - "UNKNOWN: constraints.privacy"
  - "UNKNOWN: constraints.licensing"
